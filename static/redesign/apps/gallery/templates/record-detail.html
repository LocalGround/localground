<!-- VIEW MODE -->
{{#ifequal mode "view"}}
    {{#compare screenType "presentation" operator="!="}}
        <h4>Preview</h4>
    {{/compare}}

    <div class="section">
        <h3>{{ name }}</h3>
        {{#if caption }}
            <p style="font-style: italic">{{ caption }}</p>
        {{/if}}

        <div class="carousel carousel-photo"></div>

        <div class="carousel carousel-audio"></div>

        {{#each children.videos.data}}
            <!-- Turn this into an iframe -->
            <!-- Rough Draft framework for the video carousel-->
            {{ this.video_provider }} - {{ this.video_id }}
            <br>
            <div class="video-simple">
                {{#ifequal video_provider "vimeo"}}
                    <iframe src="https://player.vimeo.com/video/{{video_id}}"
                    style="width:100%" height="200"
                    frameborder="0"
                    webkitallowfullscreen mozallowfullscreen allowfullscreen>
                    </iframe>
                {{/ifequal}}

                {{#ifequal video_provider "youtube"}}
                    <iframe src="https://www.youtube.com/embed/{{video_id}}?ecver=1"
                    style="width:100%" height="200"
                    frameborder="0" allowfullscreen>
                    </iframe>
                {{/ifequal}}
            </div>
        {{/each}}
    </div>

    {{#if fields }}
        <table class="preview-properties">
        {{#each fields}}
            <tr>
                <td>{{ this.col_alias }}:</td>
                <td>{{ this.val }}</td>
            </tr>
        {{/each}}
        {{#if tags}}
            <tr>
                <td></td>
                <td>
                    {{#each tags}}
                        <a class="tag"> {{this}} </a>
                    {{/each}}
                </td>
            </tr>
        {{/if}}
        </table>
    {{else}}
        <div class="tag-container">
        {{#each tags}}
            <a class="tag"> {{this}} </a>
        {{/each}}
        </div>
    {{/if}}

    {{#compare screenType "presentation" operator="!="}}
        <div class="save-options">
            <button class="edit-mode button-tertiary">Edit</button>
        </div>
    {{/compare}}
{{/ifequal}}


<!-- EDIT MODE -->
{{#ifequal mode "edit"}}
    <h4>
        {{#if id}}
        Edit
        {{else}}
        Add New
        {{/if}}
    </h4>

    {{#ifequal screenType "map"}}
        {{#if geometry}}
            <button class="button-secondary delete-marker-button" id="delete-geometry">Remove Location Marker</button>
        {{else}}
            <div class="add-lat-lng">
                <button class="button-secondary add-marker-button" id="add-geometry">
                    Add Location Marker
                </button>
            </div>
        {{/if}}
        {{#if lat }}
            <div class="latlong-container">
            <p class="latlong" style="font-style: italic">
                ({{lat}}, {{lng}})
            </p>
            </div>
        {{/if}}
    {{/ifequal}}

    <div id="model-form"></div>

    <div class = "save-options">
        <button class="save-model button-primary pull-right">Save</button>
        <button class="view-mode button-tertiary" id="preview">Preview</button>
        <button class="button-tertiary button-warning delete-model" id="delete">Delete</button>
    </div>
{{/ifequal}}

{{#ifequal screenType "map"}}
    <div class="show-hide hide"></div>
{{/ifequal}}
